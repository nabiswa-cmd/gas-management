<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dashboard – Ukweli Gas System</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
    <style>
        body{
            font-family:'Poppins',sans-serif;
            margin:0;padding:20px;background:#f8f9fa;
            display:flex;flex-direction:column;align-items:center;min-height:100vh;
        }
        h2{font-weight:600;color:#343a40;margin-bottom:30px;text-align:center}
        .banner{
            width:100%;max-width:960px;height:180px;
            background:url('https://images.unsplash.com/photo-1562158070-45b31f2f6015?auto=format&fit=crop&w=1200&q=80') center/cover;
            border-radius:14px;margin-bottom:35px;
        }
        .dashboard-grid{
            display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));
            gap:20px;width:100%;max-width:900px;
        }
        .card-btn{
            display:flex;flex-direction:column;align-items:center;justify-content:center;
            padding:20px;background:#fff;border-radius:12px;
            box-shadow:0 4px 8px rgba(0,0,0,.08);text-align:center;
            color:#343a40;font-weight:600;text-decoration:none;
            transition:.2s transform,.2s box-shadow;
        }
        .card-btn:hover{transform:translateY(-5px);box-shadow:0 6px 12px rgba(0,0,0,.12);}
        .card-btn i{font-size:32px;margin-bottom:10px;color:#007bff;}
        .logout-section{margin-top:40px}
        .logout-btn{
            padding:12px 24px;font-size:16px;background:#dc3545;color:#fff;
            border:none;border-radius:8px;cursor:pointer;transition:.3s background;
        }
        .logout-btn:hover{background:#b02a37}
        /* quick helper for full‑width links */
        .full-link{grid-column:1/-1}
    </style>
</head>
<body>

{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
     {% for category, message in messages %}
       <div style="padding:10px;margin-bottom:10px;border-radius:5px;
                   {% if category=='success' %}background:#d4edda;color:#155724;border:1px solid #c3e6cb;
                   {% elif category=='error' %}background:#f8d7da;color:#721c24;border:1px solid #f5c6cb;
                   {% else %}background:#fff3cd;color:#856404;border:1px solid #ffeeba;{% endif %}">
           {{ message }}
       </div>
     {% endfor %}
  {% endif %}
{% endwith %}

<div class="banner"></div>

<h2>Welcome, {{ username }}</h2>

<div class="dashboard-grid">
    <form action="/sales" method="get">
        <button type="submit" class="card-btn"><i class="fas fa-shopping-cart"></i>Sales Form</button>
    </form>

    <form action="/refill" method="get">
        <button type="submit" class="card-btn"><i class="fas fa-gas-pump"></i>Refill Gas</button>
    </form>

    <form action="/manage-pricing" method="get">
        <button type="submit" class="card-btn"><i class="fas fa-tags"></i>Buying Prices</button>
    </form>

    <form action="/gas-form" method="get">
        <button type="submit" class="card-btn"><i class="fas fa-plus-square"></i>Add / View Gas</button>
    </form>

    <form action="/stock-out" method="get">
        <button type="submit" class="card-btn"><i class="fas fa-truck-moving"></i>Stock Out Gas</button>
    </form>

    <form action="/prepaid-list" method="get">
        <button type="submit" class="card-btn"><i class="fas fa-list"></i>Pre‑Pay Records</button>
    </form>

    <a href="{{ url_for('view_logs') }}" class="card-btn"><i class="fas fa-history"></i>Stock Logs</a>

    <a href="/external-u" class="card-btn"><i class="fas fa-shipping-fast"></i>External</a>
    <a href="/kipsongo-gas-u" class="card-btn"><i class="fas fa-warehouse"></i>Kipsongo</a>
    <a href="/mpam-gas-u" class="card-btn"><i class="fas fa-store"></i>Mama Pam</a>
</div>

<div class="logout-section">
    <form action="/logout" method="post">
        <button type="submit" class="logout-btn">Logout</button>
    </form>
</div>

</body>
</html>
